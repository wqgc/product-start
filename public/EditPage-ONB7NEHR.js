import{a as C}from"./chunk-D4RARUUX.js";import{a as o}from"./chunk-2WQVVDJJ.js";import"./chunk-FDL32AD7.js";import{a as v}from"./chunk-GFLQL2OI.js";import"./chunk-AVVFLK4W.js";import{d as f,e as g}from"./chunk-F5BNY5M6.js";import{a as P}from"./chunk-MLLMWUDP.js";import{a as n}from"./chunk-XCKYJCSI.js";import"./chunk-M5VJKR3C.js";import"./chunk-G27EFIGX.js";import"./chunk-FXRGY3TF.js";import"./chunk-BGUH4UV6.js";import{a as m,b as p,d as S,f as T}from"./chunk-DRMASW6M.js";var t=S(T());var w=({user:D})=>{let{setAlert:d}=(0,t.useContext)(C),[e,b]=(0,t.useState)(null),[u,x]=(0,t.useState)(!0),[s,l]=(0,t.useState)(""),[h,U]=(0,t.useState)(!1),[E,c]=(0,t.useState)(!1),[B,I]=(0,t.useState)(!1),{id:i}=g(),a=f();return(0,t.useEffect)(()=>{let r=!0;return i&&!e&&o.setProduct({id:i,setProduct:b,setProductLoading:x,navigate:a,isMounted:r}),()=>{r=!1}},[]),(0,t.useEffect)(()=>{e&&D.uid!==e.creatorUID&&a(`/products/${i}`,{replace:!1})},[e]),(0,t.useEffect)(()=>{e&&h===!1&&(l(e.description),U(!0))},[e]),(0,t.useEffect)(()=>{let r=o.isUpdateValid(s,c);I(!r)},[s]),t.default.createElement("div",null,u&&t.default.createElement(P,null),!u&&e&&t.default.createElement(t.default.Fragment,null,t.default.createElement("h2",null,"Edit ",e.title," Campaign"),t.default.createElement("div",{className:"form-container"},t.default.createElement(v,{id:"description-input",helperText:"Tell us about your product within 2,000 words",label:"Campaign Description",multiline:!0,rows:8,error:E,value:s,onChange:({target:r})=>l(r.value)}),t.default.createElement("div",{className:"button-container"},t.default.createElement(n,{onClick:()=>o.deleteProduct({id:i,data:e,setAlert:d,navigate:a}),color:"error"},"Delete Campaign"),t.default.createElement(n,{variant:"contained",onClick:()=>o.submitProductUpdate({id:i,data:p(m({},e),{description:s}),setAlert:d,navigate:a,setDescriptionError:c}),disabled:B},"Submit Changes")))))},L=w;export{L as default};
