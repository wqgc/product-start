import{c as Zn,d as ei}from"./chunk-DRMASW6M.js";var en=Zn((no,Ee)=>{var Lt,Mt,Ut,Ft,xt,Vt,Wt,jt,Ht,ve,qe,Bt,zt,$t,ee,qt,Gt,Kt,Jt,Yt,Xt,Qt,Zt,ye;(function(n){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){n(t(e,t(i)))}):typeof Ee=="object"&&typeof Ee.exports=="object"?n(t(e,t(Ee.exports))):n(t(e));function t(i,r){return i!==e&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(s,o){return i[s]=r?r(s,o):o}}})(function(n){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])};Lt=function(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(i,r);function s(){this.constructor=i}i.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)},Mt=Object.assign||function(i){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(i[c]=r[c])}return i},Ut=function(i,r){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)r.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s},Ft=function(i,r,s,o){var c=arguments.length,a=c<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,s):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,r,s,o);else for(var h=i.length-1;h>=0;h--)(u=i[h])&&(a=(c<3?u(a):c>3?u(r,s,a):u(r,s))||a);return c>3&&a&&Object.defineProperty(r,s,a),a},xt=function(i,r){return function(s,o){r(s,o,i)}},Vt=function(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)},Wt=function(i,r,s,o){function c(a){return a instanceof s?a:new s(function(u){u(a)})}return new(s||(s=Promise))(function(a,u){function h(m){try{l(o.next(m))}catch(I){u(I)}}function f(m){try{l(o.throw(m))}catch(I){u(I)}}function l(m){m.done?a(m.value):c(m.value).then(h,f)}l((o=o.apply(i,r||[])).next())})},jt=function(i,r){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,c,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(l){return function(m){return f([l,m])}}function f(l){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,c&&(a=l[0]&2?c.return:l[0]?c.throw||((a=c.return)&&a.call(c),0):c.next)&&!(a=a.call(c,l[1])).done)return a;switch(c=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,c=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){s=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){s.label=l[1];break}if(l[0]===6&&s.label<a[1]){s.label=a[1],a=l;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(l);break}a[2]&&s.ops.pop(),s.trys.pop();continue}l=r.call(i,s)}catch(m){l=[6,m],c=0}finally{o=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ht=function(i,r){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(r,s)&&ye(r,i,s)},ye=Object.create?function(i,r,s,o){o===void 0&&(o=s),Object.defineProperty(i,o,{enumerable:!0,get:function(){return r[s]}})}:function(i,r,s,o){o===void 0&&(o=s),i[o]=r[s]},ve=function(i){var r=typeof Symbol=="function"&&Symbol.iterator,s=r&&i[r],o=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},qe=function(i,r){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var o=s.call(i),c,a=[],u;try{for(;(r===void 0||r-- >0)&&!(c=o.next()).done;)a.push(c.value)}catch(h){u={error:h}}finally{try{c&&!c.done&&(s=o.return)&&s.call(o)}finally{if(u)throw u.error}}return a},Bt=function(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(qe(arguments[r]));return i},zt=function(){for(var i=0,r=0,s=arguments.length;r<s;r++)i+=arguments[r].length;for(var o=Array(i),c=0,r=0;r<s;r++)for(var a=arguments[r],u=0,h=a.length;u<h;u++,c++)o[c]=a[u];return o},$t=function(i,r,s){if(s||arguments.length===2)for(var o=0,c=r.length,a;o<c;o++)(a||!(o in r))&&(a||(a=Array.prototype.slice.call(r,0,o)),a[o]=r[o]);return i.concat(a||Array.prototype.slice.call(r))},ee=function(i){return this instanceof ee?(this.v=i,this):new ee(i)},qt=function(i,r,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(i,r||[]),c,a=[];return c={},u("next"),u("throw"),u("return"),c[Symbol.asyncIterator]=function(){return this},c;function u(_){o[_]&&(c[_]=function(T){return new Promise(function(K,_e){a.push([_,T,K,_e])>1||h(_,T)})})}function h(_,T){try{f(o[_](T))}catch(K){I(a[0][3],K)}}function f(_){_.value instanceof ee?Promise.resolve(_.value.v).then(l,m):I(a[0][2],_)}function l(_){h("next",_)}function m(_){h("throw",_)}function I(_,T){_(T),a.shift(),a.length&&h(a[0][0],a[0][1])}},Gt=function(i){var r,s;return r={},o("next"),o("throw",function(c){throw c}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(c,a){r[c]=i[c]?function(u){return(s=!s)?{value:ee(i[c](u)),done:c==="return"}:a?a(u):u}:a}},Kt=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],s;return r?r.call(i):(i=typeof ve=="function"?ve(i):i[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(a){s[a]=i[a]&&function(u){return new Promise(function(h,f){u=i[a](u),c(h,f,u.done,u.value)})}}function c(a,u,h,f){Promise.resolve(f).then(function(l){a({value:l,done:h})},u)}},Jt=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i};var t=Object.create?function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}:function(i,r){i.default=r};Yt=function(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&ye(r,i,s);return t(r,i),r},Xt=function(i){return i&&i.__esModule?i:{default:i}},Qt=function(i,r,s,o){if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!o:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?o:s==="a"?o.call(i):o?o.value:r.get(i)},Zt=function(i,r,s,o,c){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!c:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?c.call(i,s):c?c.value=s:r.set(i,s),s},n("__extends",Lt),n("__assign",Mt),n("__rest",Ut),n("__decorate",Ft),n("__param",xt),n("__metadata",Vt),n("__awaiter",Wt),n("__generator",jt),n("__exportStar",Ht),n("__createBinding",ye),n("__values",ve),n("__read",qe),n("__spread",Bt),n("__spreadArrays",zt),n("__spreadArray",$t),n("__await",ee),n("__asyncGenerator",qt),n("__asyncDelegator",Gt),n("__asyncValues",Kt),n("__makeTemplateObject",Jt),n("__importStar",Yt),n("__importDefault",Xt),n("__classPrivateFieldGet",Qt),n("__classPrivateFieldSet",Zt)})});var ti=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)==55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)==56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},ni=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],c=n[t++],a=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ii={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,c=o?n[r+1]:0,a=r+2<n.length,u=a?n[r+2]:0,h=s>>2,f=(s&3)<<4|c>>4,l=(c&15)<<2|u>>6,m=u&63;a||(m=64,o||(l=64)),i.push(t[h],t[f],t[l],t[m])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ti(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ni(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let f=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||c==null||u==null||f==null)throw Error();let l=s<<2|c>>4;if(i.push(l),u!==64){let m=c<<4&240|u>>2;if(i.push(m),f!==64){let I=u<<6&192|f;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};var vt=function(n){try{return ii.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};var xe=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function g(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yt(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function Et(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Tt(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wt(){let n=g();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}var ri="FirebaseError",P=class extends Error{constructor(e,t,i){super(t);this.code=e,this.customData=i,this.name=ri,Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M.prototype.create)}},M=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?si(s,i):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new P(r,c,i)}};function si(n,e){return n.replace(oi,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var oi=/\{\$([^}]+)}/g;function bt(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function J(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(At(s)&&At(o)){if(!J(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function At(n){return n!==null&&typeof n=="object"}function Y(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function X(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Q(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function St(n,e){let t=new Ot(n,e);return t.subscribe.bind(t)}var Ot=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ai(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Ve),r.error===void 0&&(r.error=Ve),r.complete===void 0&&(r.complete=Ve);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ai(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ve(){}var Ws=4*60*60*1e3;function w(n){return n&&n._delegate?n._delegate:n}var U=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var z="[DEFAULT]";var Rt=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new xe;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ui(e))try{this.getOrInitializeService({instanceIdentifier:z})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=z){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=z){return this.instances.has(e)}getOptions(e=z){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(!!i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ci(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=z){return this.component?this.component.multipleInstances?e:z:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ci(n){return n===z?void 0:n}function ui(n){return n.instantiationMode==="EAGER"}var We=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Rt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var li=[],p;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(p||(p={}));var di={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},hi=p.INFO,fi={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},pi=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=fi[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ce=class{constructor(e){this.name=e,this._logLevel=hi,this._logHandler=pi,this._userLogHandler=null,li.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in p))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?di[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...e),this._logHandler(this,p.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...e),this._logHandler(this,p.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,p.INFO,...e),this._logHandler(this,p.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,p.WARN,...e),this._logHandler(this,p.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...e),this._logHandler(this,p.ERROR,...e)}};var kt=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mi(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function mi(n){let e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}var je="@firebase/app",Nt="0.7.9";var He=new ce("@firebase/app"),_i="@firebase/app-compat",gi="@firebase/analytics-compat",Ii="@firebase/analytics",vi="@firebase/app-check-compat",yi="@firebase/app-check",Ei="@firebase/auth",Ti="@firebase/auth-compat",wi="@firebase/database",bi="@firebase/database-compat",Ai="@firebase/functions",Si="@firebase/functions-compat",Oi="@firebase/installations",Ri="@firebase/installations-compat",ki="@firebase/messaging",Ni="@firebase/messaging-compat",Pi="@firebase/performance",Ci="@firebase/performance-compat",Di="@firebase/remote-config",Li="@firebase/remote-config-compat",Mi="@firebase/storage",Ui="@firebase/storage-compat",Fi="@firebase/firestore",xi="@firebase/firestore-compat",Vi="firebase",Wi="9.5.0";var Pt="[DEFAULT]",ji={[je]:"fire-core",[_i]:"fire-core-compat",[Ii]:"fire-analytics",[gi]:"fire-analytics-compat",[yi]:"fire-app-check",[vi]:"fire-app-check-compat",[Ei]:"fire-auth",[Ti]:"fire-auth-compat",[wi]:"fire-rtdb",[bi]:"fire-rtdb-compat",[Ai]:"fire-fn",[Si]:"fire-fn-compat",[Oi]:"fire-iid",[Ri]:"fire-iid-compat",[ki]:"fire-fcm",[Ni]:"fire-fcm-compat",[Pi]:"fire-perf",[Ci]:"fire-perf-compat",[Di]:"fire-rc",[Li]:"fire-rc-compat",[Mi]:"fire-gcs",[Ui]:"fire-gcs-compat",[Fi]:"fire-fst",[xi]:"fire-fst-compat","fire-js":"fire-js",[Vi]:"fire-js-all"};var ge=new Map,Be=new Map;function Hi(n,e){try{n.container.addComponent(e)}catch(t){He.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ue(n){let e=n.name;if(Be.has(e))return He.debug(`There were multiple attempts to register component ${e}.`),!1;Be.set(e,n);for(let t of ge.values())Hi(t,n);return!0}function ze(n,e){return n.container.getProvider(e)}var Bi={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},Ie=new M("app","Firebase",Bi);var Ct=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new U("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ie.create("app-deleted",{appName:this._name})}};var le=Wi;function Ys(n,e={}){typeof e!="object"&&(e={name:e});let t=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},e),i=t.name;if(typeof i!="string"||!i)throw Ie.create("bad-app-name",{appName:String(i)});let r=ge.get(i);if(r){if(J(n,r.options)&&J(t,r.config))return r;throw Ie.create("duplicate-app",{appName:i})}let s=new We(i);for(let c of Be.values())s.addComponent(c);let o=new Ct(n,t,s);return ge.set(i,o),o}function Dt(n=Pt){let e=ge.get(n);if(!e)throw Ie.create("no-app",{appName:n});return e}function Z(n,e,t){var i;let r=(i=ji[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),He.warn(c.join(" "));return}ue(new U(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function zi(n){ue(new U("platform-logger",e=>new kt(e),"PRIVATE")),Z(je,Nt,n),Z(je,Nt,"esm2017"),Z("fire-js","")}zi("");var $i="/api/v1",qi="ProductStart",Gi=2e3,Ki={BASE_URL:$i,SITE_NAME:qi,PRODUCT_DESCRIPTION_MAXLENGTH:Gi},Zs=Ki;function $e(){return $e=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$e.apply(this,arguments)}var tn=ei(en()),{__extends:io,__assign:ro,__rest:Te,__decorate:so,__param:oo,__metadata:ao,__awaiter:co,__generator:uo,__exportStar:lo,__createBinding:ho,__values:fo,__read:po,__spread:mo,__spreadArrays:_o,__spreadArray:go,__await:Io,__asyncGenerator:vo,__asyncDelegator:yo,__asyncValues:Eo,__makeTemplateObject:To,__importStar:wo,__importDefault:bo,__classPrivateFieldGet:Ao,__classPrivateFieldSet:So}=tn.default;function nn(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var rn=nn,sn=new M("auth","Firebase",nn());var on=new ce("@firebase/auth");function we(n,...e){on.logLevel<=p.ERROR&&on.error(`Auth (${le}): ${n}`,...e)}function y(n,...e){throw Ge(n,...e)}function b(n,...e){return Ge(n,...e)}function Ji(n,e,t){let i=Object.assign(Object.assign({},rn()),{[e]:t});return new M("auth","Firebase",i).create(e,{appName:n.name})}function Ge(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return sn.create(n,...e)}function d(n,e,...t){if(!n)throw Ge(e,...t)}function A(n){let e="INTERNAL ASSERTION FAILED: "+n;throw we(e),new Error(e)}function C(n,e){n||A(e)}var an=new Map;function D(n){C(n instanceof Function,"Expected a class definition");let e=an.get(n);return e?(C(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,an.set(n,e),e)}function cn(n,e){let t=ze(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(J(s,e??{}))return r;y(r,"already-initialized")}return t.initialize({options:e})}function Yi(n,e){let t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(D);(e==null?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Ke(){var n;return typeof self!="undefined"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Xi(){return un()==="http:"||un()==="https:"}function un(){var n;return typeof self!="undefined"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Qi(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xi()||Et()||"connection"in navigator)?navigator.onLine:!0}function Zi(){if(typeof navigator=="undefined")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var te=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,C(t>e,"Short delay should be less than long delay!"),this.isMobile=yt()||Tt()}get(){return Qi()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Je(n,e){C(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var be=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;A("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;A("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;A("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var er={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};var tr=new te(3e4,6e4);function v(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function E(n,e,t,i,r={}){return ln(n,r,()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});let c=Y(Object.assign({key:n.config.apiKey},o)).slice(1),a=new(be.headers());return a.set("Content-Type","application/json"),a.set("X-Client-Version",n._getSdkClientVersion()),n.languageCode&&a.set("X-Firebase-Locale",n.languageCode),be.fetch()(dn(n,n.config.apiHost,t,c),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},s))})}async function ln(n,e,t){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},er),e);try{let r=new hn(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw Ae(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[a,u]=c.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ae(n,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw Ae(n,"email-already-in-use",o);let h=i[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ji(n,h,u);y(n,h)}}catch(r){if(r instanceof P)throw r;y(n,"network-request-failed")}}async function F(n,e,t,i,r={}){let s=await E(n,e,t,i,r);return"mfaPendingCredential"in s&&y(n,"multi-factor-auth-required",{_serverResponse:s}),s}function dn(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?Je(n.config,r):`${n.config.apiScheme}://${r}`}var hn=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(b(this.auth,"timeout")),tr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ae(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=b(n,e,i);return r.customData._tokenResponse=t,r}async function nr(n,e){return E(n,"POST","/v1/accounts:delete",e)}async function ir(n,e){return E(n,"POST","/v1/accounts:lookup",e)}function de(n){if(!!n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fn(n,e=!1){let t=w(n),i=await t.getIdToken(e),r=Xe(i);d(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:de(Ye(r.auth_time)),issuedAtTime:de(Ye(r.iat)),expirationTime:de(Ye(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ye(n){return Number(n)*1e3}function Xe(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return we("JWT malformed, contained fewer than 3 sections"),null;try{let r=vt(t);return r?JSON.parse(r):(we("Failed to decode base64 JWT payload"),null)}catch(r){return we("Caught error parsing JWT payload as JSON",r),null}}function rr(n){let e=Xe(n);return d(e,"internal-error"),d(typeof e.exp!="undefined","internal-error"),d(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}async function ne(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof P&&sr(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function sr({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var pn=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Qe=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=de(this.lastLoginAt),this.creationTime=de(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Se(n){var e;let t=n.auth,i=await n.getIdToken(),r=await ne(n,ir(t,{idToken:i}));d(r==null?void 0:r.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=((e=s.providerUserInfo)===null||e===void 0?void 0:e.length)?ar(s.providerUserInfo):[],c=or(n.providerData,o),a=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!(c==null?void 0:c.length),h=a?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Qe(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,f)}async function mn(n){let e=w(n);await Se(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function or(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function ar(n){return n.map(e=>{var{providerId:t}=e,i=Te(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function cr(n,e){let t=await ln(n,{},()=>{let i=Y({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=dn(n,r,"/v1/token",`key=${s}`);return be.fetch()(o,{method:"POST",headers:{"X-Client-Version":n._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}var ie=class{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){d(e.idToken,"internal-error"),d(typeof e.idToken!="undefined","internal-error"),d(typeof e.refreshToken!="undefined","internal-error");let t="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):rr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return d(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:i,refreshToken:r,expiresIn:s}=await cr(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new ie;return i&&(d(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(d(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(d(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ie,this.toJSON())}_performRefresh(){return A("not implemented")}};function x(n,e){d(typeof n=="string"||typeof n=="undefined","internal-error",{appName:e})}var V=class{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=Te(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new pn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new Qe(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let t=await ne(this,this.stsTokenManager.getToken(this.auth,e));return d(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fn(this,e)}reload(){return mn(this)}_assign(e){this!==e&&(d(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new V(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){d(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Se(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await ne(this,nr(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,c,a,u,h;let f=(i=t.displayName)!==null&&i!==void 0?i:void 0,l=(r=t.email)!==null&&r!==void 0?r:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=t.photoURL)!==null&&o!==void 0?o:void 0,_=(c=t.tenantId)!==null&&c!==void 0?c:void 0,T=(a=t._redirectEventId)!==null&&a!==void 0?a:void 0,K=(u=t.createdAt)!==null&&u!==void 0?u:void 0,_e=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Me,emailVerified:_t,isAnonymous:gt,providerData:Ue,stsTokenManager:It}=t;d(Me&&It,e,"internal-error");let Xn=ie.fromJSON(this.name,It);d(typeof Me=="string",e,"internal-error"),x(f,e.name),x(l,e.name),d(typeof _t=="boolean",e,"internal-error"),d(typeof gt=="boolean",e,"internal-error"),x(m,e.name),x(I,e.name),x(_,e.name),x(T,e.name),x(K,e.name),x(_e,e.name);let Fe=new V({uid:Me,auth:e,email:l,emailVerified:_t,displayName:f,isAnonymous:gt,photoURL:I,phoneNumber:m,tenantId:_,stsTokenManager:Xn,createdAt:K,lastLoginAt:_e});return Ue&&Array.isArray(Ue)&&(Fe.providerData=Ue.map(Qn=>Object.assign({},Qn))),T&&(Fe._redirectEventId=T),Fe}static async _fromIdTokenResponse(e,t,i=!1){let r=new ie;r.updateFromServerResponse(t);let s=new V({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Se(s),s}};var Ze=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};Ze.type="NONE";var et=Ze;function Oe(n,e,t){return`firebase:${n}:${e}:${t}`}var $=class{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Oe(this.userKey,r.apiKey,s),this.fullPersistenceKey=Oe("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?V._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new $(D(et),e,i);let r=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u),s=r[0]||D(et),o=Oe(i,e.config.apiKey,e.name),c=null;for(let u of t)try{let h=await u._get(o);if(h){let f=V._fromJSON(e,h);u!==s&&(c=f),s=u;break}}catch{}let a=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new $(s,e,i):(s=a[0],c&&await s._set(o,c.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new $(s,e,i))}};function _n(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vn(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gn(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(En(e))return"Blackberry";if(Tn(e))return"Webos";if(tt(e))return"Safari";if((e.includes("chrome/")||In(e))&&!e.includes("edge/"))return"Chrome";if(yn(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function gn(n=g()){return/firefox\//i.test(n)}function tt(n=g()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function In(n=g()){return/crios\//i.test(n)}function vn(n=g()){return/iemobile/i.test(n)}function yn(n=g()){return/android/i.test(n)}function En(n=g()){return/blackberry/i.test(n)}function Tn(n=g()){return/webos/i.test(n)}function Re(n=g()){return/iphone|ipad|ipod/i.test(n)}function ur(n=g()){var e;return Re(n)&&!!((e=window.navigator)===null||e===void 0?void 0:e.standalone)}function lr(){return wt()&&document.documentMode===10}function wn(n=g()){return Re(n)||yn(n)||Tn(n)||En(n)||/windows phone/i.test(n)||vn(n)}function dr(){try{return!!(window&&window!==window.top)}catch{return!1}}function bn(n,e=[]){let t;switch(n){case"Browser":t=_n(g());break;case"Worker":t=`${_n(g())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${le}/${i}`}var An=class{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nt(this),this.idTokenSubscription=new nt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=D(t)),this._initializationPromise=this.queue(async()=>{var i,r;this._deleted||(this.persistenceManager=await $.create(this,e),!this._deleted&&(((i=this._popupRedirectResolver)===null||i===void 0?void 0:i._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)))}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e)}}async initializeCurrentUser(e){var t;let i=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let r=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,s=i==null?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);(!r||r===s)&&(o==null?void 0:o.user)&&(i=o.user)}return i?i._redirectEventId?(d(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)):this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Se(e)}catch(t){if(t.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zi()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?w(e):null;return t&&d(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&d(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(D(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new M("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&D(e)||this._popupRedirectResolver;d(t,this,"argument-error"),this.redirectPersistenceManager=await $.create(this,[D(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return d(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof t=="function"?e.addObserver(t,i,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return d(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}};function he(n){return w(n)}var nt=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=St(t=>this.observer=t)}get next(){return d(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var re=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return A("not implemented")}_getIdTokenResponse(e){return A("not implemented")}_linkToIdToken(e,t){return A("not implemented")}_getReauthenticationResolver(e){return A("not implemented")}};async function hr(n,e){return E(n,"POST","/v1/accounts:update",e)}async function fr(n,e){return F(n,"POST","/v1/accounts:signInWithPassword",v(n,e))}async function pr(n,e){return F(n,"POST","/v1/accounts:signInWithEmailLink",v(n,e))}async function mr(n,e){return F(n,"POST","/v1/accounts:signInWithEmailLink",v(n,e))}var q=class extends re{constructor(e,t,i,r=null){super("password",i);this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new q(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new q(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if((t==null?void 0:t.email)&&(t==null?void 0:t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return fr(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return pr(e,{email:this._email,oobCode:this._password});default:y(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return hr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return mr(e,{idToken:t,email:this._email,oobCode:this._password});default:y(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function se(n,e){return F(n,"POST","/v1/accounts:signInWithIdp",v(n,e))}var _r="http://localhost",L=class extends re{constructor(){super(...arguments);this.pendingToken=null}static _fromParams(e){let t=new L(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=Te(t,["providerId","signInMethod"]);if(!i||!r)return null;let o=new L(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let t=this.buildRequest();return se(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,se(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,se(e,t)}buildRequest(){let e={requestUri:_r,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Y(t)}return e}};async function gr(n,e){return E(n,"POST","/v1/accounts:sendVerificationCode",v(n,e))}async function Ir(n,e){return F(n,"POST","/v1/accounts:signInWithPhoneNumber",v(n,e))}async function vr(n,e){let t=await F(n,"POST","/v1/accounts:signInWithPhoneNumber",v(n,e));if(t.temporaryProof)throw Ae(n,"account-exists-with-different-credential",t);return t}var yr={USER_NOT_FOUND:"user-not-found"};async function Er(n,e){let t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return F(n,"POST","/v1/accounts:signInWithPhoneNumber",v(n,t),yr)}var W=class extends re{constructor(e){super("phone","phone");this.params=e}static _fromVerification(e,t){return new W({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new W({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Ir(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return vr(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Er(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:s}=e;return!i&&!t&&!r&&!s?null:new W({verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:s})}};function Tr(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wr(n){let e=X(Q(n)).link,t=e?X(Q(e)).deep_link_id:null,i=X(Q(n)).deep_link_id;return(i?X(Q(i)).link:null)||i||t||e||n}var fe=class{constructor(e){var t,i,r,s,o,c;let a=X(Q(e)),u=(t=a.apiKey)!==null&&t!==void 0?t:null,h=(i=a.oobCode)!==null&&i!==void 0?i:null,f=Tr((r=a.mode)!==null&&r!==void 0?r:null);d(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=a.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=wr(e);try{return new fe(t)}catch{return null}}};var j=class{constructor(){this.providerId=j.PROVIDER_ID}static credential(e,t){return q._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let i=fe.parseLink(t);return d(i,"argument-error"),q._fromEmailAndCode(e,i.code,i.tenantId)}};j.PROVIDER_ID="password";j.EMAIL_PASSWORD_SIGN_IN_METHOD="password";j.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var it=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var oe=class extends it{constructor(){super(...arguments);this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var S=class extends oe{constructor(){super("facebook.com")}static credential(e){return L._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return S.credentialFromTaggedObject(e)}static credentialFromError(e){return S.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return S.credential(e.oauthAccessToken)}catch{return null}}};S.FACEBOOK_SIGN_IN_METHOD="facebook.com";S.PROVIDER_ID="facebook.com";var O=class extends oe{constructor(){super("google.com");this.addScope("profile")}static credential(e,t){return L._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return O.credentialFromTaggedObject(e)}static credentialFromError(e){return O.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return O.credential(t,i)}catch{return null}}};O.GOOGLE_SIGN_IN_METHOD="google.com";O.PROVIDER_ID="google.com";var R=class extends oe{constructor(){super("github.com")}static credential(e){return L._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return R.credentialFromTaggedObject(e)}static credentialFromError(e){return R.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return R.credential(e.oauthAccessToken)}catch{return null}}};R.GITHUB_SIGN_IN_METHOD="github.com";R.PROVIDER_ID="github.com";var k=class extends oe{constructor(){super("twitter.com")}static credential(e,t){return L._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return k.credentialFromTaggedObject(e)}static credentialFromError(e){return k.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return k.credential(t,i)}catch{return null}}};k.TWITTER_SIGN_IN_METHOD="twitter.com";k.PROVIDER_ID="twitter.com";async function br(n,e){return F(n,"POST","/v1/accounts:signUp",v(n,e))}var H=class{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){let s=await V._fromIdTokenResponse(e,i,r),o=Sn(i);return new H({user:s,providerId:o,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);let r=Sn(i);return new H({user:e,providerId:r,_tokenResponse:i,operationType:t})}};function Sn(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var pe=class extends P{constructor(e,t,i,r){var s;super(t.code,t.message);this.operationType=i,this.user=r,Object.setPrototypeOf(this,pe.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new pe(e,t,i,r)}};function On(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pe._fromErrorAndOperation(n,s,e,i):s})}async function Ar(n,e,t=!1){let i=await ne(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return H._forOperation(n,"link",i)}async function Sr(n,e,t=!1){let{auth:i}=n,r="reauthenticate";try{let s=await ne(n,On(i,r,e,n),t);d(s.idToken,i,"internal-error");let o=Xe(s.idToken);d(o,i,"internal-error");let{sub:c}=o;return d(n.uid===c,i,"user-mismatch"),H._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&y(i,"user-mismatch"),s}}async function Rn(n,e,t=!1){let i="signIn",r=await On(n,i,e),s=await H._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}async function kn(n,e){return Rn(he(n),e)}async function Or(n,e,t){let i=he(n),r=await br(i,{returnSecureToken:!0,email:e,password:t}),s=await H._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(s.user),s}function Rr(n,e,t){return kn(w(n),j.credential(e,t))}async function kr(n,e){return E(n,"POST","/v1/accounts:update",e)}async function Nr(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let i=w(n),s={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await ne(i,kr(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;let c=i.providerData.find(({providerId:a})=>a==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function Pr(n,e,t,i){return w(n).onAuthStateChanged(e,t,i)}function Cr(n){return w(n).signOut()}function Dr(n,e){return E(n,"POST","/v2/accounts/mfaEnrollment:start",v(n,e))}function Lr(n,e){return E(n,"POST","/v2/accounts/mfaEnrollment:finalize",v(n,e))}var Do=new WeakMap;var ke="__sak";var rt=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ke,"1"),this.storage.removeItem(ke),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Mr(){let n=g();return tt(n)||Re(n)}var Ur=1e3,Fr=10,st=class extends rt{constructor(){super(()=>window.localStorage,"LOCAL");this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Mr()&&dr(),this.fallbackToPolling=wn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,c,a)=>{this.notifyListeners(o,a)});return}let i=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!t)return}let r=()=>{let o=this.storage.getItem(i);!t&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);lr()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Fr):r()}notifyListeners(e,t){this.localCache[e]=t;let i=this.listeners[e];if(i)for(let r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Ur)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};st.type="LOCAL";var Nn=st;var ot=class extends rt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}};ot.type="SESSION";var at=ot;function xr(n){return Promise.all(n.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}}))}var me=class{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;let i=new me(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:i,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!(o==null?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});let c=Array.from(o).map(async u=>u(t.origin,s)),a=await xr(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:a})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};me.receivers=[];function ct(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var Pn=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){let r=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,a)=>{let u=ct("",20);r.port1.start();let h=setTimeout(()=>{a(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){let l=f;if(l.data.eventId===u)switch(l.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(l.data.response);break;default:clearTimeout(h),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function N(){return window}function Vr(n){N().location.href=n}function Cn(){return typeof N().WorkerGlobalScope!="undefined"&&typeof N().importScripts=="function"}async function Wr(){if(!(navigator==null?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jr(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Hr(){return Cn()?self:null}var Dn="firebaseLocalStorageDb",Br=1,Ne="firebaseLocalStorage",Ln="fbase_key",ae=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Pe(n,e){return n.transaction([Ne],e?"readwrite":"readonly").objectStore(Ne)}function zr(){let n=indexedDB.deleteDatabase(Dn);return new ae(n).toPromise()}function ut(){let n=indexedDB.open(Dn,Br);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Ne,{keyPath:Ln})}catch(r){t(r)}}),n.addEventListener("success",async()=>{let i=n.result;i.objectStoreNames.contains(Ne)?e(i):(i.close(),await zr(),e(await ut()))})})}async function Mn(n,e,t){let i=Pe(n,!0).put({[Ln]:e,value:t});return new ae(i).toPromise()}async function $r(n,e){let t=Pe(n,!1).get(e),i=await new ae(t).toPromise();return i===void 0?null:i.value}function Un(n,e){let t=Pe(n,!0).delete(e);return new ae(t).toPromise()}var qr=800,Gr=3,lt=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ut(),this.db)}async _withRetries(e){let t=0;for(;;)try{let i=await this._openDb();return await e(i)}catch(i){if(t++>Gr)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=me._getInstance(Hr()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Wr(),!this.activeServiceWorker)return;this.sender=new Pn(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);!i||((e=i[0])===null||e===void 0?void 0:e.fulfilled)&&((t=i[0])===null||t===void 0?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jr()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await ut();return await Mn(e,ke,"1"),await Un(e,ke),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Mn(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(i=>$r(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Un(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(r=>{let s=Pe(r,!1).getAll();return new ae(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let t=[],i=new Set;for(let{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(let r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;let i=this.listeners[e];if(i)for(let r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qr)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};lt.type="LOCAL";var Fn=lt;function Kr(n,e){return E(n,"POST","/v2/accounts/mfaSignIn:start",v(n,e))}function Jr(n,e){return E(n,"POST","/v2/accounts/mfaSignIn:finalize",v(n,e))}function Yr(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}function Xr(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=b("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Yr().appendChild(i)})}function xn(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Lo=xn("rcb"),Mo=new te(3e4,6e4);var Qr="recaptcha";async function Zr(n,e,t){var i;let r=await t.verify();try{d(typeof r=="string",n,"argument-error"),d(t.type===Qr,n,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){let o=s.session;if("phoneNumber"in s)return d(o.type==="enroll",n,"internal-error"),(await Dr(n,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{d(o.type==="signin",n,"internal-error");let c=((i=s.multiFactorHint)===null||i===void 0?void 0:i.uid)||s.multiFactorUid;return d(c,n,"missing-multi-factor-info"),(await Kr(n,{mfaPendingCredential:o.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:o}=await gr(n,{phoneNumber:s.phoneNumber,recaptchaToken:r});return o}}finally{t._reset()}}var B=class{constructor(e){this.providerId=B.PROVIDER_ID,this.auth=he(e)}verifyPhoneNumber(e,t){return Zr(this.auth,e,w(t))}static credential(e,t){return W._fromVerification(e,t)}static credentialFromResult(e){let t=e;return B.credentialFromTaggedObject(t)}static credentialFromError(e){return B.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:i}=e;return t&&i?W._fromTokenResponse(t,i):null}};B.PROVIDER_ID="phone";B.PHONE_SIGN_IN_METHOD="phone";function es(n,e){return e?D(e):(d(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Ce=class extends re{constructor(e){super("custom","custom");this.params=e}_getIdTokenResponse(e){return se(e,this._buildIdpRequest())}_linkToIdToken(e,t){return se(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return se(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function ts(n){return Rn(n.auth,new Ce(n),n.bypassAuthState)}function ns(n){let{auth:e,user:t}=n;return d(t,e,"internal-error"),Sr(t,new Ce(n),n.bypassAuthState)}async function is(n){let{auth:e,user:t}=n;return d(t,e,"internal-error"),Ar(t,new Ce(n),n.bypassAuthState)}var dt=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let a={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(a))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ts;case"linkViaPopup":case"linkViaRedirect":return is;case"reauthViaPopup":case"reauthViaRedirect":return ns;default:y(this.auth,"internal-error")}}resolve(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var rs=new te(2e3,1e4);var G=class extends dt{constructor(e,t,i,r,s){super(e,t,r,s);this.provider=i,this.authWindow=null,this.pollId=null,G.currentPopupAction&&G.currentPopupAction.cancel(),G.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return d(e,this.auth,"internal-error"),e}async onExecution(){C(this.filter.length===1,"Popup operations only handle one event");let e=ct();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(b(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(b(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,G.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,i;if((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0?void 0:i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(b(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,rs.get())};e()}};G.currentPopupAction=null;var ss="pendingRedirect",ht=new Map,Vn=class extends dt{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i);this.eventId=null}async execute(){let e=ht.get(this.auth._key());if(!e){try{let i=await os(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ht.set(this.auth._key(),e)}return this.bypassAuthState||ht.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function os(n,e){let t=cs(e),i=as(n);if(!await i._isAvailable())return!1;let r=await i._get(t)==="true";return await i._remove(t),r}function as(n){return D(n._redirectPersistence)}function cs(n){return Oe(ss,n.config.apiKey,n.name)}async function us(n,e,t=!1){let i=he(n),r=es(i,e),o=await new Vn(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}var ls=10*60*1e3,Wn=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ds(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Hn(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(b(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ls&&this.cachedEventUids.clear(),this.cachedEventUids.has(jn(e))}saveEventToCache(e){this.cachedEventUids.add(jn(e)),this.lastProcessedEventTime=Date.now()}};function jn(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Hn({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ds(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hn(n);default:return!1}}async function hs(n,e={}){return E(n,"GET","/v1/projects",e)}var fs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ps=/^https?/;async function ms(n){if(n.config.emulator)return;let{authorizedDomains:e}=await hs(n);for(let t of e)try{if(_s(t))return}catch{}y(n,"unauthorized-domain")}function _s(n){let e=Ke(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!ps.test(t))return!1;if(fs.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var gs=new te(3e4,6e4);function Bn(){let n=N().___jsl;if(n==null?void 0:n.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Is(n){return new Promise((e,t)=>{var i,r,s;function o(){Bn(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bn(),t(b(n,"network-request-failed"))},timeout:gs.get()})}if((r=(i=N().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0?void 0:r.Iframe)e(gapi.iframes.getContext());else if((s=N().gapi)===null||s===void 0?void 0:s.load)o();else{let c=xn("iframefcb");return N()[c]=()=>{gapi.load?o():t(b(n,"network-request-failed"))},Xr(`https://apis.google.com/js/api.js?onload=${c}`)}}).catch(e=>{throw De=null,e})}var De=null;function vs(n){return De=De||Is(n),De}var ys=new te(5e3,15e3),Es="__/auth/iframe",Ts="emulator/auth/iframe",ws={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function As(n){let e=n.config;d(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Je(e,Ts):`https://${n.config.authDomain}/${Es}`,i={apiKey:e.apiKey,appName:n.name,v:le},r=bs.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Y(i).slice(1)}`}async function Ss(n){let e=await vs(n),t=N().gapi;return d(t,n,"internal-error"),e.open({where:document.body,url:As(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ws,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});let o=b(n,"network-request-failed"),c=N().setTimeout(()=>{s(o)},ys.get());function a(){N().clearTimeout(c),r(i)}i.ping(a).then(a,()=>{s(o)})}))}var Os={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rs=500,ks=600,Ns="_blank",Ps="http://localhost",ft=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Cs(n,e,t,i=Rs,r=ks){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",a=Object.assign(Object.assign({},Os),{width:i.toString(),height:r.toString(),top:s,left:o}),u=g().toLowerCase();t&&(c=In(u)?Ns:t),gn(u)&&(e=e||Ps,a.scrollbars="yes");let h=Object.entries(a).reduce((l,[m,I])=>`${l}${m}=${I},`,"");if(ur(u)&&c!=="_self")return Ds(e||"",c),new ft(null);let f=window.open(e||"",c,h);d(f,n,"popup-blocked");try{f.focus()}catch{}return new ft(f)}function Ds(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var Ls="__/auth/handler",Ms="emulator/auth/handler";function zn(n,e,t,i,r,s){d(n.config.authDomain,n,"auth-domain-config-required"),d(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:le,eventId:r};if(e instanceof it){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",bt(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[a,u]of Object.entries(s||{}))o[a]=u}if(e instanceof oe){let a=e.getScopes().filter(u=>u!=="");a.length>0&&(o.scopes=a.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let a of Object.keys(c))c[a]===void 0&&delete c[a];return`${Us(n)}?${Y(c).slice(1)}`}function Us({config:n}){return n.emulator?Je(n,Ms):`https://${n.authDomain}/${Ls}`}var pt="webStorageSupport",$n=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=at,this._completeRedirectFn=us}async _openPopup(e,t,i,r){var s;C((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=zn(e,t,i,Ke(),r);return Cs(e,o,ct())}async _openRedirect(e,t,i,r){return await this._originValidation(e),Vr(zn(e,t,i,Ke(),r)),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(C(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i}async initAndGetManager(e){let t=await Ss(e),i=new Wn(e);return t.register("authEvent",r=>(d(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pt,{type:pt},r=>{var s;let o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[pt];o!==void 0&&t(!!o),y(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ms(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wn()||tt()||Re()}},qn=$n,Gn=class{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return A("unexpected MultiFactorSessionType")}}},Le=class extends Gn{constructor(e){super("phone");this.credential=e}static _fromCredential(e){return new Le(e)}_finalizeEnroll(e,t,i){return Lr(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Jr(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},mt=class{constructor(){}static assertion(e){return Le._fromCredential(e)}};mt.FACTOR_ID="phone";var Kn="@firebase/auth",Jn="0.19.3";var Yn=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{var r;e(((r=i)===null||r===void 0?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){d(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Fs(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function xs(n){ue(new U("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:s}=i.options;return(o=>{d(r&&!r.includes(":"),"invalid-api-key",{appName:o.name}),d(!(s==null?void 0:s.includes(":")),"argument-error",{appName:o.name});let c={apiKey:r,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bn(n)},a=new An(o,c);return Yi(a,t),a})(i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ue(new U("auth-internal",e=>{let t=he(e.getProvider("auth").getImmediate());return(i=>new Yn(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Z(Kn,Jn,Fs(n)),Z(Kn,Jn,"esm2017")}function Vs(n=Dt()){let e=ze(n,"auth");return e.isInitialized()?e.getImmediate():cn(n,{popupRedirectResolver:qn,persistence:[Fn,Nn,at]})}xs("Browser");export{Ys as a,Z as b,$e as c,Or as d,Rr as e,Nr as f,Pr as g,Cr as h,Vs as i,Zs as j};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
