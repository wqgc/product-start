import{a as u}from"./chunk-DSUML7PZ.js";import"./chunk-F5BNY5M6.js";import{a as m}from"./chunk-MLLMWUDP.js";import{a as p}from"./chunk-G27EFIGX.js";import"./chunk-FXRGY3TF.js";import{i as g}from"./chunk-BGUH4UV6.js";import{d as S,f as h}from"./chunk-DRMASW6M.js";var e=S(h());var f=class{static async setPledges({setPledges:r,setPledgesLoading:i,isMounted:s}){try{let{currentUser:o}=g();if(!o)throw new Error("User missing");let{pledges:t}=await p.get(o.uid);s&&(t&&r(t),i(!1))}catch(o){s&&i(!1)}}},P=f;var v=({user:c})=>{let[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(!0);(0,e.useEffect)(()=>{let a=!0;return r||P.setPledges({setPledges:i,setPledgesLoading:o,isMounted:a}),()=>{a=!1}},[c]);let t;return r&&(t=r.map(a=>{let{title:d,creatorName:n,productUID:l}=a.product;if(d&&n&&l)return e.default.createElement(u,{key:l,title:d,creator:n,id:l})})),e.default.createElement("div",null,e.default.createElement("h2",null,"My Pledges"),e.default.createElement("div",{className:"product-container"},s&&e.default.createElement(m,null),!s&&(t&&t.length>0?t:e.default.createElement("p",null,"No pledges yet."))))},D=v;export{D as default};
